<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bulls and Cows</title>
    <link rel="stylesheet" href="default.css">
    <link rel="stylesheet" href="main.css">
</head>
<body>
    
    <h1>Bulls and Cows</h1>
    <div class="box-container">
        <div class="box">0</div>
        <div class="box">0</div>
        <div class="box">0</div>
    </div>
    <div class="btn-container">
        <button class="btn">Click</button>
    </div>
    <div class="output-container">
        <!-- <div class="output-items">
            <div class="output-box">0</div>
            <div class="output-box">0</div>
            <div class="output-box">0</div>
            <p class="output-text">Bulls 0  Cows 0</p>
        </div>

        <div class="output-items">
            <div class="output-box">0</div>
            <div class="output-box">0</div>
            <div class="output-box">0</div>
            <p class="output-text">Bulls 0  Cows 0</p>
        </div> -->
    </div>

    <script>
        
        // 숫자는 1-9까지
        // 9 다음은 다시 1이다
        // 같은 수는 안된다.


        // 컴퓨터가 임의의 수를 생각한다. 3자리 수
        let num1 = Math.floor(Math.random() * 9) +1;
        let num2 = Math.floor(Math.random() * 9) +1;
        while (num1 === num2) {
            num2 = Math.floor(Math.random() * 9) +1;
        }
        let num3 = Math.floor(Math.random() * 9) +1;
        while (num3 === num1 || num3 === num2) {
            num3 = Math.floor(Math.random() * 9) +1;
        }
        console.log (num1,num2,num3);


        // 박스누르면 숫자 올라가기
        const box1 = document.querySelector('.box:nth-child(1)');
        const box2 = document.querySelector('.box:nth-child(2)');
        const box3 = document.querySelector('.box:nth-child(3)');

        let cnt1 = 0;
        box1.addEventListener('click', function(){
            cnt1++;
            // cnt가 현재 10이면 cnt를 1로 바꾼다.
            if (cnt1 === 10) {
                cnt1 = 1;
            }
            box1.innerHTML = cnt1;
        });

        let cnt2 = 0;
        box2.addEventListener('click', function(){
            cnt2++;
            // cnt가 현재 10이면 cnt를 1로 바꾼다.
            if (cnt2 === 10) {
                cnt2 = 1;
            }
            box2.innerHTML = cnt2;
        });

        let cnt3 = 0;
        box3.addEventListener('click', function(){
            cnt3++;
            // cnt가 현재 10이면 cnt를 1로 바꾼다.
            if (cnt3 === 10) {
                cnt3 = 1;
            }
            box3.innerHTML = cnt3;
        });


        // 첫번째 숫자랑 첫번째 숫자랑 같으면 스트라이크 카운트를 1로 올린다
        // 아니면, 첫번째 숫자랑 두번째 숫자랑 같거나, 첫번째 숫자랑 세번째 숫자가 같으면 볼을 1 올린다. 
        // 반복
        let strike = 0;
        let ball = 0;

        const btn = document.querySelector('.btn');
        btn.addEventListener('click', function() {
            
            // 클릭 시 다시 리셋
            strike = 0;
            ball = 0;

            if (num1 === cnt1) {
                strike++;
            }
            else if(num1 === cnt2 || num1 === cnt3) {
                ball++;
            }

            if (num2 === cnt2) {
                strike++;
            }
            else if(num2 === cnt1 || num2 === cnt3) {
                ball++;
            }

            if (num3 === cnt3) {
                strike++;
            }
            else if(num3 === cnt1 || num3 === cnt2) {
                ball++;
            }

            console.log("Strike: " + strike + "  Ball: " + ball);

            // 화면에 결과 출력
            // <div class="output-items">
            // <div class="output-box">0</div>
            // <div class="output-box">0</div>
            // <div class="output-box">0</div>
            // <p class="output-text">Bulls 0  Cows 0</p>
            // </div>
            // 이 태그를 output-container 안에 추가해준다
            // bulls, cows 카운트는 바꿔서

            const outputContainer = document.querySelector('.output-container');
            const outputItem = document.createElement('div');
            outputItem.classList.add('output-items');

            // const outputBox = document.createElement('div');
            // outputBox.classList.add('output-box');
            // outputBox.innerHTML = cnt1;

            outputItem.innerHTML = `
                <div class="output-box">${cnt1}</div>
                <div class="output-box">${cnt2}</div>
                <div class="output-box">${cnt3}</div>
                <p class="output-text">Bulls ${strike}  Cows ${ball}</p>
            `;

            outputContainer.appendChild(outputItem);

        });


    </script>

</body>
</html>

